const getBrowserInfo=async()=>{const{userAgent:e}=navigator;let n="Unknown";return e.includes("Chrome")?n="Chrome":e.includes("Firefox")&&(n="Firefox"),{name:n,userAgent:e}},ipAddress=async()=>new Promise((e=>{const n=new Set,o=new Set,t={iceServers:[{urls:"stun:stun.l.google.com:19302"}]};try{const r=new RTCPeerConnection(t);r.createDataChannel(""),r.onicecandidate=t=>{if(!t.candidate){r.close();const t={IPv4:Array.from(n)[0]||null,IPv6:Array.from(o)[0]||null};return void e(t)}const c=t.candidate.candidate,i=/\b(?:[0-9]{1,3}\.){3}[0-9]{1,3}\b|(?:[a-fA-F0-9]{1,4}:){2,7}[a-fA-F0-9]{1,4}\b/g;let a;for(;null!==(a=i.exec(c));){const e=a[0];"0.0.0.0"!==e&&(e.includes(".")?n.add(e):e.includes(":")&&o.add(e))}},r.createOffer().then((e=>r.setLocalDescription(e))).catch((()=>{e({IPv4:null,IPv6:null})}))}catch(n){e({IPv4:null,IPv6:null})}})),getLocation=async()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{const n=e.coords.latitude,o=e.coords.longitude;fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${n}&lon=${o}`).then((e=>e.json())).then((e=>{console.log(e),document.getElementById("output").innerHTML=`Location: ${e.display_name}`})).catch((e=>console.error("Error:",e)))}),(e=>{console.error("Error fetching location:",e.message)}),{enableHighAccuracy:!0}):alert("Geolocation is not supported by your browser.")},getOSInfo=async()=>{const{platform:e}=navigator;return e.includes("Win")?"Windows":e.includes("Mac")?"MacOS":"Unknown OS"},getScreenInfo=async()=>({width:window.screen.width,height:window.screen.height,pixelRatio:window.devicePixelRatio}),getURLInfo=async()=>({url:window.location.href,referrer:document.referrer}),getAll=async()=>({browser:getBrowserInfo(),ip:await ipAddress(),location:await getLocation(),os:getOSInfo(),screen:getScreenInfo(),url:getURLInfo()});"undefined"!=typeof module&&module.exports&&(module.exports={getAll:getAll}),"undefined"!=typeof window&&(window.browserInsights={getAll:getAll});